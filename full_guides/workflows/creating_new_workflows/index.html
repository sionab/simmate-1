
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://simmate.org/full_guides/workflows/creating_new_workflows/">
      
      <link rel="icon" href="../../../images/simmate-icon.svg">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.4.1">
    
    
      
        <title>Creating new workflows - Simmate Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#creating-new-workflows" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Simmate Documentation" class="md-header__button md-logo" aria-label="Simmate Documentation" data-md-component="logo">
      
  <img src="../../../images/simmate-icon.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Simmate Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Creating new workflows
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/jacksund/simmate" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../home/" class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../getting_started/overview/" class="md-tabs__link">
        Getting Started
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../parameters/" class="md-tabs__link">
      Parameters
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../overview/" class="md-tabs__link md-tabs__link--active">
        Full Guides & Reference
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../contributing/overview/" class="md-tabs__link">
        Contributing
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Simmate Documentation" class="md-nav__button md-logo" aria-label="Simmate Documentation" data-md-component="logo">
      
  <img src="../../../images/simmate-icon.svg" alt="logo">

    </a>
    Simmate Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jacksund/simmate" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../home/" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Installation" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/installation/quick_start/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/installation/intro_to_python_terms/" class="md-nav__link">
        Intro to python terms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/installation/install_anaconda/" class="md-nav__link">
        Install Anaconda
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/installation/command_line/" class="md-nav__link">
        Intro to the command line
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/installation/create_your_env/" class="md-nav__link">
        Create your environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/installation/explore_simmate_cli/" class="md-nav__link">
        Explore Simmate commands
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/installation/local_server_setup/" class="md-nav__link">
        Set up a Local Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/installation/extra/" class="md-nav__link">
        Extra learning resources
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3">
          Run a workflow
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Run a workflow" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Run a workflow
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/run_a_workflow/quick_start/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/run_a_workflow/stages_of_a_workflow/" class="md-nav__link">
        Stages of a Workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/run_a_workflow/configure_potcars/" class="md-nav__link">
        Configure VASP potentials
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/run_a_workflow/configure_database/" class="md-nav__link">
        Configure the database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/run_a_workflow/make_a_structure/" class="md-nav__link">
        Make a input structure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/run_a_workflow/view_all_workflows/" class="md-nav__link">
        View all workflows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/run_a_workflow/view_workflow_settings/" class="md-nav__link">
        View workflow settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/run_a_workflow/running_the_workflow/" class="md-nav__link">
        Run a workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/run_a_workflow/submit_to_a_cluster/" class="md-nav__link">
        Submit to a cluster
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/run_a_workflow/view_the_results/" class="md-nav__link">
        Viewing the results
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" type="checkbox" id="__nav_2_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_4">
          Analyze & modify structures
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Analyze & modify structures" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Analyze & modify structures
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/analyze_and_modify_structures/quick_start/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/analyze_and_modify_structures/intro_to_spyder/" class="md-nav__link">
        Intro to Spyder (IDE)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/analyze_and_modify_structures/the_structure_class/" class="md-nav__link">
        The structure class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/analyze_and_modify_structures/structure_properties/" class="md-nav__link">
        Structure properties
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/analyze_and_modify_structures/structure_methods/" class="md-nav__link">
        Structure methods
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/analyze_and_modify_structures/advanced_classes/" class="md-nav__link">
        Advanced classes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/analyze_and_modify_structures/extra_resources/" class="md-nav__link">
        Extra learning resources
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5" type="checkbox" id="__nav_2_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_5">
          Explore the code
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Explore the code" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          Explore the code
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/explore_the_code/quick_start/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/explore_the_code/getting_help_in_spyder/" class="md-nav__link">
        Hints in Spyder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/explore_the_code/intro_to_python_modules/" class="md-nav__link">
        Intro to Python modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/explore_the_code/exploring_simmate_modules/" class="md-nav__link">
        Exploring Simmate modules
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6" type="checkbox" id="__nav_2_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_6">
          Access the database
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Access the database" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_6">
          <span class="md-nav__icon md-icon"></span>
          Access the database
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/access_the_database/quick_start/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/access_the_database/intro_to_python_inheritance/" class="md-nav__link">
        Intro to Python inheritance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/access_the_database/access_workflow_data/" class="md-nav__link">
        Access workflow data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/access_the_database/access_thirdparty_data/" class="md-nav__link">
        Access third-party data
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_7" type="checkbox" id="__nav_2_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_7">
          Build custom workflows
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Build custom workflows" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_7">
          <span class="md-nav__icon md-icon"></span>
          Build custom workflows
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/custom_workflows/quick_start/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/custom_workflows/update_an_existing_workflow/" class="md-nav__link">
        Update an existing workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/custom_workflows/name_your_new_workflow/" class="md-nav__link">
        Name your new workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/custom_workflows/creating_your_workflow/" class="md-nav__link">
        Creating your workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/custom_workflows/next_steps/" class="md-nav__link">
        Next steps
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_8" type="checkbox" id="__nav_2_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_8">
          Build custom tables and apps
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Build custom tables and apps" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_8">
          <span class="md-nav__icon md-icon"></span>
          Build custom tables and apps
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/custom_tables_and_apps/quick_start/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/custom_tables_and_apps/create_a_custom_app/" class="md-nav__link">
        Creating a custom project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/custom_tables_and_apps/create_a_custom_table/" class="md-nav__link">
        Creating a custom table
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_9" type="checkbox" id="__nav_2_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_9">
          Use a cloud database
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Use a cloud database" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_9">
          <span class="md-nav__icon md-icon"></span>
          Use a cloud database
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/use_a_cloud_database/quick_start/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/use_a_cloud_database/consider_collaborating/" class="md-nav__link">
        Consider collaborating
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/use_a_cloud_database/build_a_postgres_database/" class="md-nav__link">
        Build a Postgres database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/use_a_cloud_database/connect_simmate_to_the_database/" class="md-nav__link">
        Connect Simmate to your database
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_10" type="checkbox" id="__nav_2_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_10">
          Add computational resources
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Add computational resources" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_10">
          <span class="md-nav__icon md-icon"></span>
          Add computational resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/add_computational_resources/quick_start/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/add_computational_resources/review_of_concepts/" class="md-nav__link">
        A review of concepts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/add_computational_resources/should_you_setup/" class="md-nav__link">
        Should you set up workers?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/add_computational_resources/checklist_for_workers/" class="md-nav__link">
        Checklist for each worker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/add_computational_resources/adding_clusters_and_workers/" class="md-nav__link">
        Adding workers and clusters
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/wrap_up/" class="md-nav__link">
        Wrap up
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../parameters/" class="md-nav__link">
        Parameters
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Full Guides & Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Full Guides & Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Full Guides & Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_2">
          Website
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Website" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../website/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../website/rest_api/" class="md-nav__link">
        REST API
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3">
          Workflows
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Workflows" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Workflows
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../workflow_names/" class="md-nav__link">
        Workflow Names
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../using_existing_workflows/" class="md-nav__link">
        Using existing workflows
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Creating new workflows
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Creating new workflows
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-a-workflow-name" class="md-nav__link">
    Create a workflow name
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-basic-workflow" class="md-nav__link">
    A basic workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-pythonic-workflow" class="md-nav__link">
    A pythonic workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default-parameters-and-using-kwargs" class="md-nav__link">
    Default parameters and using kwargs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-input-parameters" class="md-nav__link">
    Common input parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-output-files" class="md-nav__link">
    Writing output files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-from-existing-workflows" class="md-nav__link">
    Building from existing workflows
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linking-a-database-table" class="md-nav__link">
    Linking a database table
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflows-that-call-a-command" class="md-nav__link">
    Workflows that call a command
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registering-your-workflow" class="md-nav__link">
    Registering your workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-our-custom-workflow" class="md-nav__link">
    Running our custom workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-nested-workflows" class="md-nav__link">
    Creating nested workflows
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../s3_workflows/" class="md-nav__link">
        Creating S3 Workflows
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_6" type="checkbox" id="__nav_4_3_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3_6">
          Third-party software
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Third-party software" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_3_6">
          <span class="md-nav__icon md-icon"></span>
          Third-party software
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../third_party_software/what_is_a_calculator/" class="md-nav__link">
        What is a calculator?
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_6_2" type="checkbox" id="__nav_4_3_6_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3_6_2">
          VASP
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="VASP" data-md-level="4">
        <label class="md-nav__title" for="__nav_4_3_6_2">
          <span class="md-nav__icon md-icon"></span>
          VASP
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../third_party_software/vasp/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../third_party_software/vasp/installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_6_3" type="checkbox" id="__nav_4_3_6_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3_6_3">
          Bader (henklman)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Bader (henklman)" data-md-level="4">
        <label class="md-nav__title" for="__nav_4_3_6_3">
          <span class="md-nav__icon md-icon"></span>
          Bader (henklman)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../third_party_software/bader_henkelman/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../third_party_software/bader_henkelman/installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../third_party_software/deepmd/" class="md-nav__link">
        DeepMD
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4">
          Database
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Database" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Database
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../database/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../database/basic_use/" class="md-nav__link">
        Basic use
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../database/workflow_data/" class="md-nav__link">
        Workflow data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../database/third_party_data/" class="md-nav__link">
        Third-party data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../database/contributing_data/" class="md-nav__link">
        Contributing data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../database/custom_tables/" class="md-nav__link">
        Creating custom tables
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_5">
          Toolkit
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Toolkit" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          Toolkit
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../toolkit/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6" type="checkbox" id="__nav_4_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_6">
          Extras
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Extras" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_6">
          <span class="md-nav__icon md-icon"></span>
          Extras
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6_1" type="checkbox" id="__nav_4_6_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_6_1">
          File converters
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="File converters" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_6_1">
          <span class="md-nav__icon md-icon"></span>
          File converters
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../extras/file_converters/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../extras/file_converters/structures/" class="md-nav__link">
        Structures
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../extras/command_line/" class="md-nav__link">
        Command line
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6_3" type="checkbox" id="__nav_4_6_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_6_3">
          Visualization
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Visualization" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_6_3">
          <span class="md-nav__icon md-icon"></span>
          Visualization
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../extras/visualization/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../extras/visualization/blender/" class="md-nav__link">
        Structures
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../extras/utilities/" class="md-nav__link">
        Utilities
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Contributing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Contributing" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Contributing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/first_time_setup/" class="md-nav__link">
        First time setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/creating_and_submitting_changes/" class="md-nav__link">
        Creating & submitting changes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/extra/" class="md-nav__link">
        Extra notes & tips
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/maintainer_notes/" class="md-nav__link">
        Maintainer notes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-a-workflow-name" class="md-nav__link">
    Create a workflow name
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-basic-workflow" class="md-nav__link">
    A basic workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-pythonic-workflow" class="md-nav__link">
    A pythonic workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default-parameters-and-using-kwargs" class="md-nav__link">
    Default parameters and using kwargs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-input-parameters" class="md-nav__link">
    Common input parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-output-files" class="md-nav__link">
    Writing output files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-from-existing-workflows" class="md-nav__link">
    Building from existing workflows
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linking-a-database-table" class="md-nav__link">
    Linking a database table
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflows-that-call-a-command" class="md-nav__link">
    Workflows that call a command
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registering-your-workflow" class="md-nav__link">
    Registering your workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-our-custom-workflow" class="md-nav__link">
    Running our custom workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-nested-workflows" class="md-nav__link">
    Creating nested workflows
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/jacksund/simmate/edit/main/docs/full_guides/workflows/creating_new_workflows.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="creating-new-workflows">Creating new workflows<a class="headerlink" href="#creating-new-workflows" title="Permanent link">&para;</a></h1>
<hr />
<h2 id="create-a-workflow-name">Create a workflow name<a class="headerlink" href="#create-a-workflow-name" title="Permanent link">&para;</a></h2>
<p>Build your workflow name using the Simmate conventions and run some checks to
make sure everything works as expected:
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">simmate.workflow_engine</span> <span class="kn">import</span> <span class="n">Workflow</span>

<span class="k">class</span> <span class="nc">Example__Python__MyFavoriteSettings</span><span class="p">(</span><span class="n">Workflow</span><span class="p">):</span>
    <span class="k">pass</span>  <span class="c1"># we will build the rest of workflow later</span>

<span class="c1"># These names can be long and unfriendly, so it can be nice to</span>
<span class="c1"># link them to a variable name for easier access.</span>
<span class="n">my_workflow</span> <span class="o">=</span> <span class="n">Example__Python__MyFavoriteSettings</span>

<span class="c1"># Now check that our naming convention works as expected</span>
<span class="k">assert</span> <span class="n">my_workflow</span><span class="o">.</span><span class="n">name_full</span> <span class="o">==</span> <span class="s2">&quot;example.python.my-favorite-settings&quot;</span>
<span class="k">assert</span> <span class="n">my_workflow</span><span class="o">.</span><span class="n">name_type</span> <span class="o">==</span> <span class="s2">&quot;example&quot;</span>
<span class="k">assert</span> <span class="n">my_workflow</span><span class="o">.</span><span class="n">name_calculator</span> <span class="o">==</span> <span class="s2">&quot;python&quot;</span>
<span class="k">assert</span> <span class="n">my_workflow</span><span class="o">.</span><span class="n">name_preset</span> <span class="o">==</span> <span class="s2">&quot;my-favorite-settings&quot;</span>
</code></pre></div></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Higher level features such as the website interface require that workflow names follow a certain format. If you skip this step, your workflows will fail and cause errors elsewhere.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>make sure you have read of "Workflow Names" documentation.</p>
</div>
<hr />
<h2 id="a-basic-workflow">A basic workflow<a class="headerlink" href="#a-basic-workflow" title="Permanent link">&para;</a></h2>
<p>To build a Simmate workflow, you can have ANY python code you'd like. The only
requirement is that you place that code inside a <code>run_config</code> method of a 
new subclass for <code>Workflow</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">simmate.workflow_engine</span> <span class="kn">import</span> <span class="n">Workflow</span>

<span class="k">class</span> <span class="nc">Example__Python__MyFavoriteSettings</span><span class="p">(</span><span class="n">Workflow</span><span class="p">):</span>

    <span class="n">use_database</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># we don&#39;t have a database table yet</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">run_config</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This workflow doesn&#39;t do much&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">42</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Behind the scenes, the <code>run</code> method is converting our <code>run_config</code> to a 
workflow and doing extra setup tasks for us.</p>
</div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Note that we added <code>**kwargs</code> to our function input. This is required for
your workflow to run. Make sure you read the "Default parameters" section
below to understand why.</p>
</div>
<hr />
<h2 id="a-pythonic-workflow">A pythonic workflow<a class="headerlink" href="#a-pythonic-workflow" title="Permanent link">&para;</a></h2>
<p>Now let's look at a realistic example where we build a Workflow that has
input parameters and accesses class attributes/methods:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Example__Python__MyFavoriteSettings</span><span class="p">(</span><span class="n">Workflow</span><span class="p">):</span>

    <span class="n">use_database</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1"># we don&#39;t have a database table yet</span>
    <span class="n">example_constant</span> <span class="o">=</span> <span class="mi">12</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">squared</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">run_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">say_hello</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># Workflows can contain ANY python code!</span>
        <span class="c1"># In other words...</span>
        <span class="c1">#   &quot;The ceiling is the roof&quot; -Michael Jordan</span>

        <span class="k">if</span> <span class="n">say_hello</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello and welcome, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span><span class="p">)</span>

        <span class="c1"># grab class values and methods</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">example_constant</span>
        <span class="n">example_calc</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">squared</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Our calculation gave a result of </span><span class="si">{</span><span class="n">example_calc</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># grab extra arguments if you need them</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;An extra parameter for </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> was given &quot;</span>
                <span class="s2">&quot;with a value of </span><span class="si">{value}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="s2">&quot;Success!&quot;</span>
</code></pre></div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>The <code>**kwargs</code> is still important here. Make sure we are adding it at the 
end of our input parameters. (see the next section for why)</p>
</div>
<hr />
<h2 id="default-parameters-and-using-kwargs">Default parameters and using kwargs<a class="headerlink" href="#default-parameters-and-using-kwargs" title="Permanent link">&para;</a></h2>
<p>You'll notice in the workflows above that we used <code>**kwargs</code> in each of our
<code>run_config</code> methods, and if you remove these, the workflow will fail. This
is because simmate automatically passes default parameters to the <code>run_config</code> 
method -- even if you didn't define them as inputs. </p>
<p>We do this to allow all workflows to access key information about the run. 
These parameters are:</p>
<ul>
<li><code>run_id</code>: a unique id to help with tracking a calculation</li>
<li><code>directory</code>: a unique foldername that the calculation will take place in</li>
<li><code>compress_output</code>: whether to compress the directory to a zip file when we're done</li>
<li><code>source</code>: where the input of this calculation came from</li>
</ul>
<p>You can use any of these inputs to help with your workflow. Or alternatively,
just add <code>**kwargs</code> to your function and ignore them.</p>
<hr />
<h2 id="common-input-parameters">Common input parameters<a class="headerlink" href="#common-input-parameters" title="Permanent link">&para;</a></h2>
<p>You often will use input parameters that correspond to <code>toolkit</code> objects, such
as <code>Structure</code> or <code>Composition</code>. If you use the matching input parameter name,
these will inherit all of their features -- such as loading from filename, a 
dictionary, or python object.</p>
<p>For example, if you use a <code>structure</code> input variable, it behaves as described
in the <a href="https://jacksund.github.io/simmate/parameters/">Parameters</a> section.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">simmate.toolkit</span> <span class="kn">import</span> <span class="n">Structure</span>
<span class="kn">from</span> <span class="nn">simmate.workflow_engine</span> <span class="kn">import</span> <span class="n">Workflow</span>

<span class="k">class</span> <span class="nc">Example__Python__MyFavoriteSettings</span><span class="p">(</span><span class="n">Workflow</span><span class="p">):</span>

    <span class="n">use_database</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># we don&#39;t have a database table yet</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">run_config</span><span class="p">(</span><span class="n">structure</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="c1"># Even if we give a filename as an input, Simmate will convert it</span>
        <span class="c1"># to a python object for us</span>
        <span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">structure</span><span class="p">)</span> <span class="o">==</span> <span class="n">Structure</span>

        <span class="c1"># and you can interact with the structure object as usual</span>
        <span class="k">return</span> <span class="n">structure</span><span class="o">.</span><span class="n">volume</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>if you see a parameter in our documentation that has similar use to yours,
make sure you use the same name. It can help with adding extra functionality.</p>
</div>
<hr />
<h2 id="writing-output-files">Writing output files<a class="headerlink" href="#writing-output-files" title="Permanent link">&para;</a></h2>
<p>Of all the default parameters (described above), you'll most like get the most
from using the <code>directory</code> input. It is important to note that
 <code>directory</code> is given as a 
<a href="https://docs.python.org/3/library/pathlib.html"><code>pathlib.Path</code></a> object. Just
add directory to your run_config() method and then use the object that's provided.</p>
<p>For example, this workflow will write an output file to 
<code>simmate-task-12345/my_output.txt</code> (where the <code>simmate-task-12345</code> folder is
automatically set up by Simmate).</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">simmate.workflow_engine</span> <span class="kn">import</span> <span class="n">Workflow</span>

<span class="k">class</span> <span class="nc">Example__Python__MyFavoriteSettings</span><span class="p">(</span><span class="n">Workflow</span><span class="p">):</span>

    <span class="n">use_database</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># we don&#39;t have a database table yet</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">run_config</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="c1"># We use the unique directory to write outputs!</span>
        <span class="c1"># Recall that we have a pathlib.Path object.</span>
        <span class="n">output_file</span> <span class="o">=</span> <span class="n">directory</span> <span class="o">/</span> <span class="s2">&quot;my_output.txt&quot;</span>

        <span class="k">with</span> <span class="n">output_file</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Writing my output!&quot;</span><span class="p">)</span>

        <span class="c1"># If you don&#39;t like/know pathlib.Path, you can</span>
        <span class="c1"># convert the directory name back to a string</span>
        <span class="n">output_filename</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">output_file</span><span class="p">)</span>

        <span class="k">return</span> <span class="s2">&quot;Done!&quot;</span>
</code></pre></div>
<hr />
<h2 id="building-from-existing-workflows">Building from existing workflows<a class="headerlink" href="#building-from-existing-workflows" title="Permanent link">&para;</a></h2>
<p>For many calculators, there are workflow classes that you
can use as a starting point. For example, VASP users can inherit from the
<code>VaspWorkflow</code> class, which includes many features built-in:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">basic VASP example</label><label for="__tabbed_1_2">full-feature VASP example</label><label for="__tabbed_1_3">Custom INCAR modifier</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">simmate.calculators.vasp.workflows.base</span> <span class="kn">import</span> <span class="n">VaspWorkflow</span>

<span class="k">class</span> <span class="nc">Relaxation__Vasp__MyExample1</span><span class="p">(</span><span class="n">VaspWorkflow</span><span class="p">):</span>

    <span class="n">functional</span> <span class="o">=</span> <span class="s2">&quot;PBE&quot;</span>
    <span class="n">potcar_mappings</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Y&quot;</span><span class="p">:</span> <span class="s2">&quot;Y_sv&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">:</span> <span class="s2">&quot;C&quot;</span><span class="p">}</span>

    <span class="n">incar</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">PREC</span><span class="o">=</span><span class="s2">&quot;Normal&quot;</span><span class="p">,</span>
        <span class="n">EDIFF</span><span class="o">=</span><span class="mf">1e-4</span><span class="p">,</span>
        <span class="n">ENCUT</span><span class="o">=</span><span class="mi">450</span><span class="p">,</span>
        <span class="n">NSW</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
        <span class="n">KSPACING</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">simmate.calculators.vasp.workflows.base</span> <span class="kn">import</span> <span class="n">VaspWorkflow</span>
<span class="kn">from</span> <span class="nn">simmate.calculators.vasp.inputs.potcar_mappings</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">PBE_ELEMENT_MAPPINGS</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">simmate.calculators.vasp.error_handlers</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Frozen</span><span class="p">,</span>
    <span class="n">NonConverging</span><span class="p">,</span>
    <span class="n">Unconverged</span><span class="p">,</span>
    <span class="n">Walltime</span><span class="p">,</span>
<span class="p">)</span>


<span class="k">class</span> <span class="nc">Relaxation__Vasp__MyExample2</span><span class="p">(</span><span class="n">VaspWorkflow</span><span class="p">):</span>

    <span class="n">functional</span> <span class="o">=</span> <span class="s2">&quot;PBE&quot;</span>
    <span class="n">potcar_mappings</span> <span class="o">=</span> <span class="n">PBE_ELEMENT_MAPPINGS</span>  <span class="c1"># (1)</span>

    <span class="n">incar</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">PREC</span><span class="o">=</span><span class="s2">&quot;Normal&quot;</span><span class="p">,</span>  <span class="c1"># (2)</span>
        <span class="n">EDIFF__per_atom</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">,</span>  <span class="c1"># (3)</span>
        <span class="n">ENCUT</span><span class="o">=</span><span class="mi">450</span><span class="p">,</span>
        <span class="n">ISIF</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="n">NSW</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
        <span class="n">IBRION</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">POTIM</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span>
        <span class="n">LCHARG</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">LWAVE</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">KSPACING</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span>
        <span class="n">multiple_keywords__smart_ismear</span><span class="o">=</span><span class="p">{</span>  <span class="c1"># (4)</span>
            <span class="s2">&quot;metal&quot;</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">ISMEAR</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">SIGMA</span><span class="o">=</span><span class="mf">0.06</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;non-metal&quot;</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">ISMEAR</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">SIGMA</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="c1"># WARNING --&gt; see &quot;Custom Modifier&quot;&quot; tab for this to work</span>
        <span class="n">EXAMPLE__multiply_nsites</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>  <span class="c1"># (5)</span>
    <span class="p">)</span>

    <span class="n">error_handlers</span> <span class="o">=</span> <span class="p">[</span>  <span class="c1"># (6)</span>
        <span class="n">Unconverged</span><span class="p">(),</span>
        <span class="n">NonConverging</span><span class="p">(),</span>
        <span class="n">Frozen</span><span class="p">(),</span>
        <span class="n">Walltime</span><span class="p">(),</span>
    <span class="p">]</span>
</code></pre></div>
<ol>
<li>You can use pre-set mapping for all elements rather than define them yourself</li>
<li>Settings that match the normal VASP input are the same for all structures regardless of composition.</li>
<li>Settings can also be set based on the input structure using built-in tags like <code>__per_atom</code>. Note the two underscores (<code>__</code>) signals that we are using a input modifier.</li>
<li>The type of smearing we use depends on if we have a metal, semiconductor, or insulator. So we need to decide this using a built-in keyword modifier named <code>smart_ismear</code>. Because this handles the setting of multiple INCAR values, the input begins with <code>multiple_keywords</code> instead of a parameter name.</li>
<li>If you want to create your own logic for an input parameter, you can do that as well. Here we are showing a new modifier named <code>multiply_nsites</code>. This would set the incar value of EXAMPLE=16 for structure with 2 sites (2*8=16). Note, we define how this modifer works and register it in the "Custom INCAR modifier" tab. Make sure you include this code as well.</li>
<li>These are some default error handlers to use, and there are many more error handlers available than what's shown. Note, the order of the handlers matters here. Only the first error handler triggered in this list will be used before restarting the job</li>
</ol>
</div>
<div class="tabbed-block">
<p>If you need to add advanced logic for one of your INCAR tags, you can register a keyword_modifier to the INCAR class like so:
<div class="highlight"><pre><span></span><code><span class="c1"># STEP 1: define the logic of your modifier as a function</span>
<span class="c1"># Note that the function name must begin with &quot;keyword_modifier_&quot;</span>
<span class="k">def</span> <span class="nf">keyword_modifier_multiply_nsites</span><span class="p">(</span><span class="n">structure</span><span class="p">,</span> <span class="n">example_mod_input</span><span class="p">):</span>
    <span class="c1"># add your advanced logic to determine the keyword value.</span>
    <span class="k">return</span> <span class="n">structure</span><span class="o">.</span><span class="n">num_sites</span> <span class="o">*</span> <span class="n">example_mod_input</span>


<span class="c1"># STEP 2: register modifier with the Incar class</span>
<span class="kn">from</span> <span class="nn">simmate.calculators.vasp.inputs</span> <span class="kn">import</span> <span class="n">Incar</span>
<span class="n">Incar</span><span class="o">.</span><span class="n">add_keyword_modifier</span><span class="p">(</span><span class="n">keyword_modifier_multiply_nsites</span><span class="p">)</span>

<span class="c1"># STEP 3: use your new modifier with any parameter you&#39;d like</span>
<span class="n">incar</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="s2">&quot;NSW__multiply_nsites&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;EXAMPLE__multiply_nsites&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Make sure this code is ran BEFORE you run the workflow. Registration is 
reset every time a new python session starts. Therefore, we recommend 
keeping your modifer in the same file that you define your workflow in.</p>
</div>
</div>
</div>
</div>
<p>Further, can use python inheritance to borrow utilities and settings from an
existing workflow:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">simmate.workflows.utilities</span> <span class="kn">import</span> <span class="n">get_workflow</span>

<span class="n">original_workflow</span> <span class="o">=</span> <span class="n">get_workflow</span><span class="p">(</span><span class="s2">&quot;static-energy.vasp.matproj&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">StaticEnergy__Vasp__MyCustomPreset</span><span class="p">(</span><span class="n">original_workflow</span><span class="p">):</span>

    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;2022.07.04&quot;</span>

    <span class="n">incar</span> <span class="o">=</span> <span class="n">original_workflow</span><span class="o">.</span><span class="n">incar</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>  <span class="c1"># Make sure you copy!</span>
    <span class="n">incar</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="nb">dict</span><span class="p">(</span>
            <span class="n">NPAR</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">ENCUT</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>

<span class="c1"># make sure we have new settings updated</span>
<span class="c1"># and that we didn&#39;t change the original</span>
<span class="k">assert</span> <span class="n">original_workflow</span><span class="o">.</span><span class="n">incar</span> <span class="o">!=</span> <span class="n">StaticEnergy__Vasp__MyCustomPreset</span>
</code></pre></div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Make sure you are making copies of the original workflow settings! If you modify them without making a copy, you'll actually be changing the original workflow settings. The <code>assert</code> check that we make in the example above is therefore <strong>very</strong> important.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To gain more insight to workflows like this, you should read through <strong>both</strong>
the "Creating S3 Workflows" and "Third-party Software" sections for more 
information.</p>
</div>
<hr />
<h2 id="linking-a-database-table">Linking a database table<a class="headerlink" href="#linking-a-database-table" title="Permanent link">&para;</a></h2>
<p>Many of workflows will want to store common types of data (such as static energy
or relaxation data). If you would like to use these tables automatically, you 
simply to make sure you <code>name_type</code> matches what is available!</p>
<p>For example, if we look at a static-energy calculation, you will see
the <code>StaticEnergy</code> database table is automatically used because the
name of our workflow starts with "StaticEnergy":</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">simmate.database</span> <span class="kn">import</span> <span class="n">connect</span>
<span class="kn">from</span> <span class="nn">simmate.database.workflow_results</span> <span class="kn">import</span> <span class="n">StaticEnergy</span>

<span class="c1"># no work required! This line shows everything is setup and working</span>
<span class="k">assert</span> <span class="n">StaticEnergy__Vasp__MyCustomPreset</span><span class="o">.</span><span class="n">database_table</span> <span class="o">==</span> <span class="n">StaticEnergy</span>
</code></pre></div>
<p>If you would like to build or use a custom database, you must first have
a registered <code>DatabaseTable</code>, and then you can link the database table to 
your workflow directly. The only other requiredment is that your database table
uses the <code>Calculation</code> database mix-in: </p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">my_project.models</span> <span class="kn">import</span> <span class="n">MyCustomTable</span>

<span class="k">class</span> <span class="nc">Example__Python__MyFavoriteSettings</span><span class="p">(</span><span class="n">Workflow</span><span class="p">):</span>
    <span class="n">database_table</span> <span class="o">=</span> <span class="n">MyCustomTable</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>See the "Getting Started" and "Database" tutorials for how to build a 
custom database table.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Make sure your table uses the <code>Calculation</code> mix-in so that the run 
information can be stored properly</p>
</div>
<hr />
<h2 id="workflows-that-call-a-command">Workflows that call a command<a class="headerlink" href="#workflows-that-call-a-command" title="Permanent link">&para;</a></h2>
<p>In many cases, you may have a workflow that runs a command or some external
program and then reads the results from output files. An example of
this would be an energy calculation using VASP. If your workflow involves
calling another program, you should read about the <code>S3Workflow</code> which helps
with writing input files, calling other programs, and handling errors.</p>
<hr />
<h2 id="registering-your-workflow">Registering your workflow<a class="headerlink" href="#registering-your-workflow" title="Permanent link">&para;</a></h2>
<p>Registering your workflow so that you can access it in the UI requires you to
build a "simmate project". This is covered in the getting-started tutorials.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For now, you can treat this step as optional if you do <strong>not</strong> have any 
custom database tables.</p>
</div>
<hr />
<h2 id="running-our-custom-workflow">Running our custom workflow<a class="headerlink" href="#running-our-custom-workflow" title="Permanent link">&para;</a></h2>
<p>Once you have your new workflow and registered it, you can run it as you would 
any other one.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">yaml</label><label for="__tabbed_2_2">python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">workflow_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">path/to/my/script.py:my_workflow_obj</span><span class="w">  </span><span class="c1"># (1)</span><span class="w"></span>

<span class="c1"># Example parameters from our &quot;Basic Workflow&quot; above</span><span class="w"></span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Jack</span><span class="w"></span>
<span class="nt">say_hello</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
<ol>
<li>If your workflow is not regiestered, you need to provide the path to your
python script (e.g. <code>my_script.py</code> file) and then the variable name that the
workflow is stored as. The normal variable would be 
<code>Example__Python__MyFavoriteSettings</code>, but in the python example, we set it
to something shorter like <code>my_workflow</code> for convenience.</li>
</ol>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># in the same file the workflow is defined in</span>

<span class="c1"># These names can be long and unfriendly, so it can be nice to</span>
<span class="c1"># link them to a variable name for easier access.</span>
<span class="n">my_workflow</span> <span class="o">=</span> <span class="n">Example__Python__MyFavoriteSettings</span>

<span class="c1"># Here we use parameters from our &quot;Basic Workflow&quot; above</span>
<span class="n">state</span> <span class="o">=</span> <span class="n">my_workflow</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Jack&quot;</span>
    <span class="n">say_hello</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
</code></pre></div>
</div>
</div>
</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p>If you wrote your workflow in a file name <code>learning_simmate.py</code>, you could
set the workflow_name to <code>learning_simmate.py:Example__Python__MyFavoriteSettings</code>.</p>
</div>
<p>Make sure you read the "common input parameters" section above. These let
us really take advantage of how we provide our input. For example, a
<code>structure</code> parameter will automatically accept filenames or database entries:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">yaml</label><label for="__tabbed_3_2">python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">workflow_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">path/to/my/script.py:my_workflow_obj</span><span class="w"></span>

<span class="c1"># Automatic features!</span><span class="w"></span>
<span class="nt">structure</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">database_table</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MatProjStructure</span><span class="w"></span>
<span class="w">    </span><span class="nt">database_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mp-123</span><span class="w"></span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># in the same file the workflow is defined in</span>
<span class="n">state</span> <span class="o">=</span> <span class="n">my_workflow</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
    <span class="n">structure</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;database_table&quot;</span><span class="p">:</span> <span class="s2">&quot;MatProjStructure&quot;</span><span class="p">,</span>
        <span class="s2">&quot;database_id&quot;</span><span class="p">:</span> <span class="s2">&quot;mp-123&quot;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
</code></pre></div>
</div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When switching from Python to YAML, make sure you adjust the input format
of your parameters. This is especially important if you use python a <code>list</code> or
<code>dict</code> for one of your input parameters. Further, if you have complex input
parameters (e.g. nested lists, matricies, etc.), we recommend using a TOML
input file instead.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:4"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><input id="__tabbed_4_4" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">lists</label><label for="__tabbed_4_2">dictionaries</label><label for="__tabbed_4_3">nested lists</label><label for="__tabbed_4_4">tuple</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><div class="highlight"><pre><span></span><code><span class="c1"># in python</span>
<span class="n">my_parameter</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># in yaml</span><span class="w"></span>
<span class="nt">my_parameter</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span><span class="w"></span>
</code></pre></div></p>
</div>
<div class="tabbed-block">
<p><div class="highlight"><pre><span></span><code><span class="c1"># in python</span>
<span class="n">my_parameter</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="mi">456</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;orange&quot;</span><span class="p">,</span> <span class="s2">&quot;grape&quot;</span><span class="p">]}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># in yaml</span><span class="w"></span>
<span class="nt">my_parameter</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">a</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">123</span><span class="w"></span>
<span class="w">    </span><span class="nt">b</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">456</span><span class="w"></span>
<span class="w">    </span><span class="nt">c</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">apple</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">orange</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">grape</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># in toml</span><span class="w"></span>
<span class="k">[my_parameter]</span><span class="w"></span>
<span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">123</span><span class="w"></span>
<span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">456</span><span class="w"></span>
<span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;apple&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;orange&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;grape&quot;</span><span class="p">]</span><span class="w"></span>
</code></pre></div></p>
</div>
<div class="tabbed-block">
<p><div class="highlight"><pre><span></span><code><span class="c1"># in python</span>
<span class="n">my_parameter</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
<span class="p">]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># in yaml (we recommend switching to TOML!)</span><span class="w"></span>
<span class="nt">my_parameter</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># in toml</span><span class="w"></span>
<span class="n">my_parameter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">],</span><span class="w"></span>
<span class="p">]</span><span class="w"></span>
</code></pre></div></p>
</div>
<div class="tabbed-block">
<p><div class="highlight"><pre><span></span><code><span class="c1"># in python</span>
<span class="n">my_parameter</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># in yaml</span><span class="w"></span>
<span class="nt">my_parameter</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span><span class="w"></span>
<span class="c1"># WARNING: This will return a list! Make sure you call </span><span class="w"></span>
<span class="c1">#   `tuple(my_parameter)`</span><span class="w"></span>
<span class="c1"># at the start of your workflow&#39;s `run_config` if you need a tuple.</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># in toml</span><span class="w"></span>
<span class="n">my_parameter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span><span class="w"></span>
<span class="c1"># WARNING: This will return a list! Make sure you call </span><span class="w"></span>
<span class="c1">#   `tuple(my_parameter)`</span><span class="w"></span>
<span class="c1"># at the start of your workflow&#39;s `run_config` if you need a tuple.</span><span class="w"></span>
</code></pre></div></p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="creating-nested-workflows">Creating nested workflows<a class="headerlink" href="#creating-nested-workflows" title="Permanent link">&para;</a></h2>
<p>Because workflows can contain any python code, they can also make calls to
other workflows -- either via <code>run</code> or <code>run_cloud</code> methods</p>
<p>When using <code>run</code>, you often want workflows to share a working directory, so
that you can find the results all in one place.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">simmate.workflows.utilities</span> <span class="kn">import</span> <span class="n">get_workflow</span>
<span class="kn">from</span> <span class="nn">simmate.workflow_engine</span> <span class="kn">import</span> <span class="n">Workflow</span>

<span class="k">class</span> <span class="nc">Example__Python__MyFavoriteSettings</span><span class="p">(</span><span class="n">Workflow</span><span class="p">):</span>

    <span class="n">use_database</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># we don&#39;t have a database table yet</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">run_config</span><span class="p">(</span><span class="n">structure</span><span class="p">,</span> <span class="n">directory</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="c1"># you can grab a workflow locally, attach one as a class</span>
        <span class="c1"># attribute, or anything else possible with python</span>
        <span class="n">another_workflow</span> <span class="o">=</span> <span class="n">get_workflow</span><span class="p">(</span><span class="s2">&quot;static-energy.vasp.mit&quot;</span><span class="p">)</span>

        <span class="c1"># And run the workflow how you would like. Here, we are</span>
        <span class="c1"># just running the workflow 10 times in row on different</span>
        <span class="c1"># perturbations or &quot;rattling&quot; of the original structure</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
            <span class="n">another_workflow</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
                <span class="n">structure</span><span class="o">=</span><span class="n">structure</span><span class="o">.</span><span class="n">perturb</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
                <span class="n">directory</span><span class="o">=</span> <span class="n">directory</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;perturb_number_</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="c1"># **kwargs, &lt;-- you may want to pass kwargs too.</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="mi">42</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>when using <code>run_cloud</code> you should <strong>NOT</strong> share a working directory. This
causes problems when you have computational resource scattered accross 
different computers &amp; file systems.
See github <a href="https://github.com/jacksund/simmate/issues/237">#237</a>.</p>
</div>
<hr />




              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../using_existing_workflows/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Using existing workflows" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Using existing workflows
            </div>
          </div>
        </a>
      
      
        
        <a href="../s3_workflows/" class="md-footer__link md-footer__link--next" aria-label="Next: Creating S3 Workflows" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Creating S3 Workflows
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
    
  </body>
</html>